{.@.@(\;\(\;=\@@}:compareItemType;
{"-"/.,1={["g"]+}{);["m"]+}if.["nothing" "g"]={;}{}if}:simplifyItem;
{["The" "first" "second" "third" "fourth" "floor" "contains" "a" "and" "relevant." "microchip" "microchip." "generator" "generator."]-}:simplifyFloor;

"\n"/{" "/simplifyFloor{simplifyItem}%}%

0 # Push step counter.

